{"ast":null,"code":"import { blackboard } from '../core/Blackboard';\nconst LOG = msg => console.log(`[System] ${msg}`);\n\n// 1. Requirement Agent (Advanced Distribution)\n_c = LOG;\nconst RequirementAgent = async config => {\n  LOG('Analyzing room inventory...');\n  const pad = 4;\n  const buildW = config.width - pad * 2;\n  const buildD = config.depth - pad * 2;\n  blackboard.write('config', config);\n  blackboard.write('siteBoundary', {\n    x: pad,\n    y: pad,\n    w: buildW,\n    h: buildD\n  });\n\n  // Create Arrays for floors\n  const floorQueues = Array.from({\n    length: config.floors\n  }, () => []);\n\n  // --- DISTRIBUTION LOGIC ---\n  const rooms = {\n    ...config.rooms\n  }; // Clone counts\n\n  // Helper to add room to specific floor\n  const addToFloor = (floorIdx, type) => {\n    if (floorIdx < config.floors) {\n      floorQueues[floorIdx].push(type);\n    } else {\n      // Overflow to highest available floor\n      floorQueues[config.floors - 1].push(type);\n    }\n  };\n\n  // FLOOR 0 PRIORITY: Garage, Kitchen, Living, Dining, Prayer, Utility\n  if (rooms.garage > 0) {\n    addToFloor(0, 'garage');\n    rooms.garage--;\n  }\n  if (rooms.kitchen > 0) {\n    addToFloor(0, 'kitchen');\n    rooms.kitchen--;\n  }\n  if (rooms.living > 0) {\n    addToFloor(0, 'living');\n    rooms.living--;\n  }\n  if (rooms.dining > 0) {\n    addToFloor(0, 'dining');\n    rooms.dining--;\n  }\n  if (rooms.prayer > 0) {\n    addToFloor(0, 'prayer');\n    rooms.prayer--;\n  }\n  if (rooms.utility > 0) {\n    addToFloor(0, 'utility');\n    rooms.utility--;\n  }\n\n  // Place 1 bathroom on ground if possible (Guest bath)\n  if (rooms.bathroom > 0) {\n    addToFloor(0, 'bathroom');\n    rooms.bathroom--;\n  }\n\n  // FLOOR 1+ PRIORITY: Bedrooms, Library, Remaining Baths\n  let currentFloor = config.floors > 1 ? 1 : 0;\n\n  // Distribute Bedrooms\n  while (rooms.bedroom > 0) {\n    addToFloor(currentFloor, 'bedroom');\n    rooms.bedroom--;\n    // If we have remaining baths, attach one nearby (simple logic: add to same floor)\n    if (rooms.bathroom > 0) {\n      addToFloor(currentFloor, 'bathroom');\n      rooms.bathroom--;\n    }\n    // Cycle floors if we have more than 2 floors\n    if (config.floors > 2 && currentFloor < config.floors - 1) {\n      currentFloor++;\n    } else if (config.floors > 1) {\n      currentFloor = 1; // Keep filling floor 1 and 2\n    }\n  }\n\n  // Distribute Library/Office (Quiet zones - higher floors)\n  while (rooms.library > 0) {\n    addToFloor(config.floors - 1, 'library');\n    rooms.library--;\n  }\n\n  // Dump anything else remaining to Ground or First\n  Object.keys(rooms).forEach(key => {\n    while (rooms[key] > 0) {\n      addToFloor(0, key);\n      rooms[key]--;\n    }\n  });\n  blackboard.write('floorQueues', floorQueues);\n  return true;\n};\n\n// 2. Vertical Layout Agent\n_c2 = RequirementAgent;\nconst LayoutAgent = async () => {\n  LOG('Stacking floor plates...');\n  const bounds = blackboard.read('siteBoundary');\n  const floorQueues = blackboard.read('floorQueues');\n  const config = blackboard.read('config');\n  const allFloorsRegions = [];\n\n  // Spine (Stairwell/Hall)\n  const spineW = 6;\n  const spineX = bounds.x + bounds.w / 2 - spineW / 2;\n  for (let f = 0; f < config.floors; f++) {\n    const regions = [];\n    const rooms = floorQueues[f] || [];\n\n    // Fixed Hallway\n    const hall = {\n      x: spineX,\n      y: bounds.y + 10,\n      w: spineW,\n      h: bounds.h - 15,\n      type: 'hallway'\n    };\n    regions.push(hall);\n\n    // Stairs (if needed)\n    if (config.floors > 1) {\n      regions.push({\n        x: hall.x,\n        y: hall.y + hall.h - 10,\n        w: hall.w,\n        h: 8,\n        type: 'stairs'\n      });\n    }\n\n    // Split Left/Right\n    const leftSpace = {\n      x: bounds.x,\n      y: bounds.y,\n      w: bounds.w / 2 - spineW / 2,\n      h: bounds.h\n    };\n    const rightSpace = {\n      x: spineX + spineW,\n      y: bounds.y,\n      w: bounds.w / 2 - spineW / 2,\n      h: bounds.h\n    };\n    const sliceStrip = (rect, roomsToPlace) => {\n      let currentY = rect.y;\n      const count = roomsToPlace.length;\n      if (count === 0) return;\n      const heightPerRoom = rect.h / count;\n      roomsToPlace.forEach(rType => {\n        regions.push({\n          x: rect.x,\n          y: currentY,\n          w: rect.w,\n          h: heightPerRoom,\n          type: rType\n        });\n        currentY += heightPerRoom;\n      });\n    };\n\n    // Heuristic Sorting\n    const leftRooms = [];\n    const rightRooms = [];\n    rooms.forEach(r => {\n      // Kitchen/Garage/Dining usually on one side, Living/Bed on other\n      if (['garage', 'kitchen', 'dining', 'utility', 'prayer'].includes(r)) rightRooms.push(r);else leftRooms.push(r);\n    });\n    sliceStrip(leftSpace, leftRooms);\n    sliceStrip(rightSpace, rightRooms);\n    allFloorsRegions.push(regions);\n  }\n  blackboard.write('floorRegions', allFloorsRegions);\n  return true;\n};\n\n// 3. Structural Agent\n_c3 = LayoutAgent;\nconst StructuralAgent = async () => {\n  LOG('Aligning load-bearing walls...');\n  const floorRegions = blackboard.read('floorRegions');\n  const allWalls = [];\n  floorRegions.forEach(rooms => {\n    const walls = [];\n    rooms.forEach(r => {\n      walls.push({\n        x1: r.x,\n        y1: r.y,\n        x2: r.x + r.w,\n        y2: r.y,\n        type: 'inner'\n      });\n      walls.push({\n        x1: r.x,\n        y1: r.y + r.h,\n        x2: r.x + r.w,\n        y2: r.y + r.h,\n        type: 'inner'\n      });\n      walls.push({\n        x1: r.x,\n        y1: r.y,\n        x2: r.x,\n        y2: r.y + r.h,\n        type: 'inner'\n      });\n      walls.push({\n        x1: r.x + r.w,\n        y1: r.y,\n        x2: r.x + r.w,\n        y2: r.y + r.h,\n        type: 'inner'\n      });\n    });\n    const b = blackboard.read('siteBoundary');\n    const outer = [{\n      x1: b.x,\n      y1: b.y,\n      x2: b.x + b.w,\n      y2: b.y\n    }, {\n      x1: b.x,\n      y1: b.y + b.h,\n      x2: b.x + b.w,\n      y2: b.y + b.h\n    }, {\n      x1: b.x,\n      y1: b.y,\n      x2: b.x,\n      y2: b.y + b.h\n    }, {\n      x1: b.x + b.w,\n      y1: b.y,\n      x2: b.x + b.w,\n      y2: b.y + b.h\n    }];\n    allWalls.push({\n      inner: walls,\n      outer: outer\n    });\n  });\n  blackboard.write('floorWalls', allWalls);\n  return true;\n};\n\n// 4. Connectivity Agent\n_c4 = StructuralAgent;\nconst ConnectivityAgent = async () => {\n  LOG('Calculating egress paths...');\n  const floorRegions = blackboard.read('floorRegions');\n  const allDoors = [];\n  floorRegions.forEach((rooms, floorIndex) => {\n    const doors = [];\n    for (let i = 0; i < rooms.length; i++) {\n      for (let j = i + 1; j < rooms.length; j++) {\n        const r1 = rooms[i];\n        const r2 = rooms[j];\n        const isHall = r1.type === 'hallway' || r2.type === 'hallway';\n        const verticalOverlap = r1.x < r2.x + r2.w && r1.x + r1.w > r2.x;\n        const horizontalOverlap = r1.y < r2.y + r2.h && r1.y + r1.h > r2.y;\n        const touchingY = Math.abs(r1.y + r1.h - r2.y) < 0.1 || Math.abs(r2.y + r2.h - r1.y) < 0.1;\n        const touchingX = Math.abs(r1.x + r1.w - r2.x) < 0.1 || Math.abs(r2.x + r2.w - r1.x) < 0.1;\n        if (isHall && verticalOverlap && touchingY) {\n          const mid = (Math.max(r1.x, r2.x) + Math.min(r1.x + r1.w, r2.x + r2.w)) / 2;\n          doors.push({\n            x: mid - 1.5,\n            y: Math.abs(r1.y + r1.h - r2.y) < 0.1 ? r2.y : r1.y,\n            w: 3,\n            vertical: false\n          });\n        } else if (isHall && horizontalOverlap && touchingX) {\n          const mid = (Math.max(r1.y, r2.y) + Math.min(r1.y + r1.h, r2.y + r2.h)) / 2;\n          doors.push({\n            x: Math.abs(r1.x + r1.w - r2.x) < 0.1 ? r2.x : r1.x,\n            y: mid - 1.5,\n            w: 3,\n            vertical: true\n          });\n        }\n      }\n    }\n    if (floorIndex === 0) {\n      const hall = rooms.find(r => r.type === 'hallway');\n      if (hall) doors.push({\n        x: hall.x + hall.w / 2 - 2,\n        y: hall.y + hall.h,\n        w: 4,\n        vertical: false,\n        type: 'main'\n      });\n    }\n    allDoors.push(doors);\n  });\n  blackboard.write('floorDoors', allDoors);\n  return true;\n};\n_c5 = ConnectivityAgent;\nexport const agents = [{\n  name: 'Multi-Floor Allocator',\n  fn: RequirementAgent\n}, {\n  name: 'Vertical Layout Engine',\n  fn: LayoutAgent\n}, {\n  name: 'Structural Logic',\n  fn: StructuralAgent\n}, {\n  name: 'Access Grapher',\n  fn: ConnectivityAgent\n}];\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"LOG\");\n$RefreshReg$(_c2, \"RequirementAgent\");\n$RefreshReg$(_c3, \"LayoutAgent\");\n$RefreshReg$(_c4, \"StructuralAgent\");\n$RefreshReg$(_c5, \"ConnectivityAgent\");","map":{"version":3,"names":["blackboard","LOG","msg","console","log","_c","RequirementAgent","config","pad","buildW","width","buildD","depth","write","x","y","w","h","floorQueues","Array","from","length","floors","rooms","addToFloor","floorIdx","type","push","garage","kitchen","living","dining","prayer","utility","bathroom","currentFloor","bedroom","library","Object","keys","forEach","key","_c2","LayoutAgent","bounds","read","allFloorsRegions","spineW","spineX","f","regions","hall","leftSpace","rightSpace","sliceStrip","rect","roomsToPlace","currentY","count","heightPerRoom","rType","leftRooms","rightRooms","r","includes","_c3","StructuralAgent","floorRegions","allWalls","walls","x1","y1","x2","y2","b","outer","inner","_c4","ConnectivityAgent","allDoors","floorIndex","doors","i","j","r1","r2","isHall","verticalOverlap","horizontalOverlap","touchingY","Math","abs","touchingX","mid","max","min","vertical","find","_c5","agents","name","fn","$RefreshReg$"],"sources":["E:/PAP/SEM 5  (Current)/Agent Based Software Engineering (ABSE)/Schematic-Architecture-Generator/ShamArchitectSys_Final/src/agents/AgentSystem.js"],"sourcesContent":["import { blackboard } from '../core/Blackboard';\n\nconst LOG = (msg) => console.log(`[System] ${msg}`);\n\n// 1. Requirement Agent (Advanced Distribution)\nconst RequirementAgent = async (config) => {\n  LOG('Analyzing room inventory...');\n  \n  const pad = 4;\n  const buildW = config.width - (pad*2);\n  const buildD = config.depth - (pad*2);\n\n  blackboard.write('config', config);\n  blackboard.write('siteBoundary', { x: pad, y: pad, w: buildW, h: buildD });\n  \n  // Create Arrays for floors\n  const floorQueues = Array.from({ length: config.floors }, () => []);\n  \n  // --- DISTRIBUTION LOGIC ---\n  const rooms = { ...config.rooms }; // Clone counts\n  \n  // Helper to add room to specific floor\n  const addToFloor = (floorIdx, type) => {\n    if (floorIdx < config.floors) {\n      floorQueues[floorIdx].push(type);\n    } else {\n      // Overflow to highest available floor\n      floorQueues[config.floors - 1].push(type);\n    }\n  };\n\n  // FLOOR 0 PRIORITY: Garage, Kitchen, Living, Dining, Prayer, Utility\n  if (rooms.garage > 0) { addToFloor(0, 'garage'); rooms.garage--; }\n  if (rooms.kitchen > 0) { addToFloor(0, 'kitchen'); rooms.kitchen--; }\n  if (rooms.living > 0) { addToFloor(0, 'living'); rooms.living--; }\n  if (rooms.dining > 0) { addToFloor(0, 'dining'); rooms.dining--; }\n  if (rooms.prayer > 0) { addToFloor(0, 'prayer'); rooms.prayer--; }\n  if (rooms.utility > 0) { addToFloor(0, 'utility'); rooms.utility--; }\n  \n  // Place 1 bathroom on ground if possible (Guest bath)\n  if (rooms.bathroom > 0) { addToFloor(0, 'bathroom'); rooms.bathroom--; }\n\n  // FLOOR 1+ PRIORITY: Bedrooms, Library, Remaining Baths\n  let currentFloor = config.floors > 1 ? 1 : 0;\n\n  // Distribute Bedrooms\n  while (rooms.bedroom > 0) {\n    addToFloor(currentFloor, 'bedroom');\n    rooms.bedroom--;\n    // If we have remaining baths, attach one nearby (simple logic: add to same floor)\n    if (rooms.bathroom > 0) {\n      addToFloor(currentFloor, 'bathroom');\n      rooms.bathroom--;\n    }\n    // Cycle floors if we have more than 2 floors\n    if (config.floors > 2 && currentFloor < config.floors - 1) {\n      currentFloor++; \n    } else if (config.floors > 1) {\n      currentFloor = 1; // Keep filling floor 1 and 2\n    }\n  }\n\n  // Distribute Library/Office (Quiet zones - higher floors)\n  while (rooms.library > 0) {\n    addToFloor(config.floors - 1, 'library');\n    rooms.library--;\n  }\n\n  // Dump anything else remaining to Ground or First\n  Object.keys(rooms).forEach(key => {\n    while(rooms[key] > 0) {\n      addToFloor(0, key);\n      rooms[key]--;\n    }\n  });\n\n  blackboard.write('floorQueues', floorQueues);\n  return true;\n};\n\n// 2. Vertical Layout Agent\nconst LayoutAgent = async () => {\n  LOG('Stacking floor plates...');\n  const bounds = blackboard.read('siteBoundary');\n  const floorQueues = blackboard.read('floorQueues');\n  const config = blackboard.read('config');\n\n  const allFloorsRegions = [];\n\n  // Spine (Stairwell/Hall)\n  const spineW = 6;\n  const spineX = bounds.x + (bounds.w/2) - (spineW/2);\n  \n  for (let f = 0; f < config.floors; f++) {\n    const regions = [];\n    const rooms = floorQueues[f] || [];\n\n    // Fixed Hallway\n    const hall = { x: spineX, y: bounds.y + 10, w: spineW, h: bounds.h - 15, type: 'hallway' };\n    regions.push(hall);\n\n    // Stairs (if needed)\n    if (config.floors > 1) {\n      regions.push({ x: hall.x, y: hall.y + hall.h - 10, w: hall.w, h: 8, type: 'stairs' });\n    }\n\n    // Split Left/Right\n    const leftSpace = { x: bounds.x, y: bounds.y, w: (bounds.w/2) - (spineW/2), h: bounds.h };\n    const rightSpace = { x: spineX + spineW, y: bounds.y, w: (bounds.w/2) - (spineW/2), h: bounds.h };\n\n    const sliceStrip = (rect, roomsToPlace) => {\n      let currentY = rect.y;\n      const count = roomsToPlace.length;\n      if(count === 0) return;\n      const heightPerRoom = rect.h / count;\n      \n      roomsToPlace.forEach((rType) => {\n        regions.push({ x: rect.x, y: currentY, w: rect.w, h: heightPerRoom, type: rType });\n        currentY += heightPerRoom;\n      });\n    };\n\n    // Heuristic Sorting\n    const leftRooms = [];\n    const rightRooms = [];\n    rooms.forEach(r => {\n      // Kitchen/Garage/Dining usually on one side, Living/Bed on other\n      if(['garage','kitchen','dining','utility','prayer'].includes(r)) rightRooms.push(r);\n      else leftRooms.push(r);\n    });\n\n    sliceStrip(leftSpace, leftRooms);\n    sliceStrip(rightSpace, rightRooms);\n    allFloorsRegions.push(regions);\n  }\n\n  blackboard.write('floorRegions', allFloorsRegions);\n  return true;\n};\n\n// 3. Structural Agent\nconst StructuralAgent = async () => {\n  LOG('Aligning load-bearing walls...');\n  const floorRegions = blackboard.read('floorRegions');\n  const allWalls = [];\n\n  floorRegions.forEach((rooms) => {\n    const walls = [];\n    rooms.forEach(r => {\n      walls.push({ x1: r.x, y1: r.y, x2: r.x+r.w, y2: r.y, type: 'inner' });\n      walls.push({ x1: r.x, y1: r.y+r.h, x2: r.x+r.w, y2: r.y+r.h, type: 'inner' });\n      walls.push({ x1: r.x, y1: r.y, x2: r.x, y2: r.y+r.h, type: 'inner' });\n      walls.push({ x1: r.x+r.w, y1: r.y, x2: r.x+r.w, y2: r.y+r.h, type: 'inner' });\n    });\n    \n    const b = blackboard.read('siteBoundary');\n    const outer = [\n      { x1: b.x, y1: b.y, x2: b.x+b.w, y2: b.y },\n      { x1: b.x, y1: b.y+b.h, x2: b.x+b.w, y2: b.y+b.h },\n      { x1: b.x, y1: b.y, x2: b.x, y2: b.y+b.h },\n      { x1: b.x+b.w, y1: b.y, x2: b.x+b.w, y2: b.y+b.h },\n    ];\n    allWalls.push({ inner: walls, outer: outer });\n  });\n\n  blackboard.write('floorWalls', allWalls);\n  return true;\n};\n\n// 4. Connectivity Agent\nconst ConnectivityAgent = async () => {\n  LOG('Calculating egress paths...');\n  const floorRegions = blackboard.read('floorRegions');\n  const allDoors = [];\n\n  floorRegions.forEach((rooms, floorIndex) => {\n    const doors = [];\n    for (let i = 0; i < rooms.length; i++) {\n      for (let j = i + 1; j < rooms.length; j++) {\n        const r1 = rooms[i];\n        const r2 = rooms[j];\n        \n        const isHall = r1.type === 'hallway' || r2.type === 'hallway';\n        const verticalOverlap = (r1.x < r2.x + r2.w && r1.x + r1.w > r2.x);\n        const horizontalOverlap = (r1.y < r2.y + r2.h && r1.y + r1.h > r2.y);\n        const touchingY = Math.abs(r1.y + r1.h - r2.y) < 0.1 || Math.abs(r2.y + r2.h - r1.y) < 0.1;\n        const touchingX = Math.abs(r1.x + r1.w - r2.x) < 0.1 || Math.abs(r2.x + r2.w - r1.x) < 0.1;\n\n        if (isHall && (verticalOverlap && touchingY)) {\n             const mid = (Math.max(r1.x, r2.x) + Math.min(r1.x+r1.w, r2.x+r2.w)) / 2;\n             doors.push({ x: mid - 1.5, y: (Math.abs(r1.y+r1.h - r2.y) < 0.1 ? r2.y : r1.y), w: 3, vertical: false });\n        } else if (isHall && (horizontalOverlap && touchingX)) {\n             const mid = (Math.max(r1.y, r2.y) + Math.min(r1.y+r1.h, r2.y+r2.h)) / 2;\n             doors.push({ x: (Math.abs(r1.x+r1.w - r2.x) < 0.1 ? r2.x : r1.x), y: mid - 1.5, w: 3, vertical: true });\n        }\n      }\n    }\n    if (floorIndex === 0) {\n      const hall = rooms.find(r => r.type === 'hallway');\n      if(hall) doors.push({ x: hall.x + (hall.w/2) - 2, y: hall.y + hall.h, w: 4, vertical: false, type: 'main' });\n    }\n    allDoors.push(doors);\n  });\n\n  blackboard.write('floorDoors', allDoors);\n  return true;\n};\n\nexport const agents = [\n  { name: 'Multi-Floor Allocator', fn: RequirementAgent },\n  { name: 'Vertical Layout Engine', fn: LayoutAgent },\n  { name: 'Structural Logic', fn: StructuralAgent },\n  { name: 'Access Grapher', fn: ConnectivityAgent },\n];"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}